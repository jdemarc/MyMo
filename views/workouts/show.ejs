<%- include('../partials/header') %>

<div class="container">
    <div class="row justify-content-center">
        <h4> <%= title %> </h4>
    </div>

    <div class="row">
        <div class="col-sm">Title</div>
        <div class="col-sm">Date</div>
        <div class="col-sm">Duration</div>
        <div class="col-sm">Calories</div>
    </div>

    <div class="row">
        <div class="col-sm"><%= workout.title %></div>
        <div class="col-sm"><%= workout.date.toLocaleDateString(); %></div>
        <div class="col-sm"><%= workout.duration %></div>
        <div class="col-sm"><%= workout.calories %></div>
    </div>

    <hr/>
    <div class="row justify-content-center">
        <div class="col-sm">EXERCISE</div>
        <div class="col-sm">
            <form action="/workouts/<%= workout._id %>/exercises" method="POST">
                <input type="text" name="name">
        </div>
    </div>
    <div class="row">
        <div class="col-sm">MUSCLE GROUP</div>
        <div class="col-sm">
            <input type="text" name="muscle">            
        </div>
    </div>
    <div class="row">
        <div class="col-sm">DESCRIPTION</div>
        <div class="col-sm">                
            <input type="text" name="description">
        </div>
    </div>
    
    <div class="row justify-content-center">
        <button type="submit" class="btn btn-dark">ADD</button>
        </form>
    </div>

    <hr/>

    <div class="row justify-content-center">
        <h5>Exercises</h5>
    </div>

    <div class="row justify-content-center">
        <div class="col-sm font-weight-bold">Activity</div>
        <div class="col-sm font-weight-bold">Muscle Group</div>
        <div class="col-sm font-weight-bold">Description</div>
        <div class="col-sm"></div>
    </div>

    <% if (workout.exercises.length) { %>
        <% workout.exercises.forEach(function (e) { %>

            <div class="row">
                <div class="col-sm"><%= e.name %></div>
                <div class="col-sm"><%= e.muscle %></div>
                <div class="col-sm"><%= e.description %></div>
                <div class="col-sm">
                    <form action="/exercises/<%= e.id %>?_method=DELETE" method="POST">
                        <button class="btn btn-dark my-2 my-sm-0" type="submit">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-file-x-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM6.854 6.146a.5.5 0 1 0-.708.708L7.293 8 6.146 9.146a.5.5 0 1 0 .708.708L8 8.707l1.146 1.147a.5.5 0 0 0 .708-.708L8.707 8l1.147-1.146a.5.5 0 0 0-.708-.708L8 7.293 6.854 6.146z"/>
                            </svg>
                    </form>    
                </div>
            </div>

            <hr/>
        <% }); %>
        <% } else { %>
            <div class="row justify-content-center">
                <h5> No exercises added. </h5>
            </div>
        <% } %>

        <div class="row justify-content-center">
            <form action="/users/index" method="GET">
                <button type="submit" class="btn btn-dark">COMPLETE</button>
            </form>
        </div>
</div>
<%- include('../partials/footer') %>